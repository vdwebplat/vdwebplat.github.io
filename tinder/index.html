<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Tinder Swipe UI Demo</title>
  <style>
    body {
      background: #f7f7f7;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    #container {
      width: 80vw;
      max-width: 1100px;
      height: 70vh;
      max-height: 900px;
      position: relative;
      min-width: 340px;
      min-height: 480px;
    }

    .progress-container {
      width: 80vw;
      max-width: 1100px;
      text-align: center;
      margin-bottom: 1.5vw;
      font-size: 2vw;
      min-font-size: 18px;
      font-weight: bold;
      color: #444;
    }

    .card {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 2vw;
      box-shadow: 0 1vw 4vw rgba(0,0,0,0.13);
      background: #fff;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: center;
      transition: transform 0.35s cubic-bezier(.68,-0.55,.27,1.55), opacity 0.35s;
      user-select: none;
      touch-action: none;
      will-change: transform;
    }
    .card img {
      width: 100%;
      height: 75%;
      object-fit: cover;
    }
    .card .name {
      width: 100%;
      background: rgba(255,255,255,0.85);
      padding: 2vw;
      text-align: center;
      font-size: 2.5vw;
      font-weight: bold;
      letter-spacing: 0.1vw;
      border-radius: 0 0 2vw 2vw;
    }
    .card.next {
      opacity: 0.7;
      filter: blur(0.2vw);
      pointer-events: none;
      z-index: 1;
    }
    .card.top {
      z-index: 2;
    }
    .card.swipe-left {
      transform: translateX(-120vw) rotate(-18deg);
      opacity: 0;
    }
    .card.swipe-right {
      transform: translateX(120vw) rotate(18deg);
      opacity: 0;
    }
    .empty {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 2vw;
      box-shadow: 0 1vw 4vw rgba(0,0,0,0.13);
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 3vw;
      font-weight: bold;
      color: #aaa;
      z-index: 3;
    }

    /* Overlays for X and check mark */
    .swipe-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      z-index: 10;
    }
    .mark {
      opacity: 0;
      position: absolute;
      top: 6vw;
      font-size: 7vw;
      font-weight: bold;
      border-radius: 50%;
      padding: 1vw 3vw;
      background: rgba(255,255,255,0.75);
      box-shadow: 0 0.3vw 2vw rgba(0,0,0,0.11);
      transition: opacity 0.2s, transform 0.2s;
      transform: scale(0.7);
      pointer-events: none;
    }
    .mark.x {
      left: 4vw;
      color: #f44336;
      border: 0.25vw solid #f44336;
    }
    .mark.check {
      right: 4vw;
      color: #4caf50;
      border: 0.25vw solid #4caf50;
    }
    .show-x {
      opacity: 1;
      transform: scale(1.1) rotate(-10deg);
    }
    .show-check {
      opacity: 1;
      transform: scale(1.1) rotate(10deg);
    }

    @media (max-width: 700px) {
      #container,
      .progress-container { width: 98vw; max-width: 98vw; }
      #container { height: 65vh; }
      .card .name { font-size: 5vw; padding: 4vw; }
      .mark { font-size: 10vw; top: 10vw; }
      .mark.x, .mark.check { left: 7vw; right: 7vw; }
    }
  </style>
</head>
<body>
  <div>
    <div class="progress-container" id="progress-bar"></div>
    <div id="container">
      <div class="empty" style="display:none;">No more cards!</div>
    </div>
  </div>
  <script>
    // 15 dummy cards
    const cardsDataFull = [
      { img: "https://source.unsplash.com/random/900x900?person1", name: "Alex" },
      { img: "https://source.unsplash.com/random/900x900?person2", name: "Jordan" },
      { img: "https://source.unsplash.com/random/900x900?person3", name: "Taylor" },
      { img: "https://source.unsplash.com/random/900x900?person4", name: "Morgan" },
      { img: "https://source.unsplash.com/random/900x900?person5", name: "Sam" },
      { img: "https://source.unsplash.com/random/900x900?person6", name: "Casey" },
      { img: "https://source.unsplash.com/random/900x900?person7", name: "Jamie" },
      { img: "https://source.unsplash.com/random/900x900?person8", name: "Riley" },
      { img: "https://source.unsplash.com/random/900x900?person9", name: "Drew" },
      { img: "https://source.unsplash.com/random/900x900?person10", name: "Quinn" },
      { img: "https://source.unsplash.com/random/900x900?person11", name: "Harper" },
      { img: "https://source.unsplash.com/random/900x900?person12", name: "Cameron" },
      { img: "https://source.unsplash.com/random/900x900?person13", name: "Skyler" },
      { img: "https://source.unsplash.com/random/900x900?person14", name: "Reese" },
      { img: "https://source.unsplash.com/random/900x900?person15", name: "Blake" }
    ];

    let cardsData = [...cardsDataFull];
    const totalCards = cardsDataFull.length;
    const container = document.getElementById('container');
    const emptyDiv = container.querySelector('.empty');
    const progressBar = document.getElementById('progress-bar');

    function updateProgressBar() {
      const seen = totalCards - cardsData.length;
      progressBar.textContent = `${seen} / ${totalCards}`;
    }

    // Render cards
    function renderCards() {
      container.querySelectorAll('.card').forEach(el => el.remove());
      cardsData.forEach((card, idx) => {
        const el = document.createElement('div');
        el.className = 'card' + (idx === 0 ? ' top' : ' next');
        el.innerHTML = `
          <img src="${card.img}" alt="${card.name}"/>
          <div class="name">${card.name}</div>
          <div class="swipe-overlay">
            <span class="mark x">&#10006;</span>
            <span class="mark check">&#10004;</span>
          </div>
        `;
        if (idx === 0) addSwipeHandlers(el);
        container.appendChild(el);
      });
      if (cardsData.length === 0) emptyDiv.style.display = '';
      else emptyDiv.style.display = 'none';
      updateProgressBar();
    }

    // Swipe handlers
    function addSwipeHandlers(cardEl) {
      let startX = null, startY = null, dragging = false;
      let lastDx = 0;
      const xMark = cardEl.querySelector('.mark.x');
      const checkMark = cardEl.querySelector('.mark.check');

      function onMove(dx, dy) {
        cardEl.style.transform = `translateX(${dx}px) rotate(${dx/12}deg)`;
        lastDx = dx;

        // Show check/X mark as you swipe
        if (dx > 40) {
          checkMark.classList.add('show-check');
          xMark.classList.remove('show-x');
          checkMark.style.opacity = Math.min((dx - 40)/80, 1);
        } else if (dx < -40) {
          xMark.classList.add('show-x');
          checkMark.classList.remove('show-check');
          xMark.style.opacity = Math.min((-dx - 40)/80, 1);
        } else {
          checkMark.classList.remove('show-check');
          xMark.classList.remove('show-x');
        }
      }
      function endSwipe() {
        cardEl.style.transform = "";
        lastDx = 0;
        xMark.classList.remove('show-x');
        checkMark.classList.remove('show-check');
        xMark.style.opacity = 0;
        checkMark.style.opacity = 0;
      }

      function onRelease() {
        dragging = false;
        // Swipe threshold: 120px
        if (lastDx > 120) {
          // Animate check mark
          checkMark.classList.add('show-check');
          checkMark.style.opacity = 1;
          setTimeout(() => {
            cardEl.classList.add('swipe-right');
            setTimeout(() => { 
              cardsData.shift(); 
              renderCards(); 
            }, 350);
          }, 120);
        } else if (lastDx < -120) {
          // Animate X mark
          xMark.classList.add('show-x');
          xMark.style.opacity = 1;
          setTimeout(() => {
            cardEl.classList.add('swipe-left');
            setTimeout(() => { 
              cardsData.shift(); 
              renderCards(); 
            }, 350);
          }, 120);
        } else {
          cardEl.style.transition = 'transform 0.2s';
          cardEl.style.transform = '';
          setTimeout(() => { cardEl.style.transition = ''; }, 200);
          xMark.classList.remove('show-x');
          checkMark.classList.remove('show-check');
          xMark.style.opacity = 0;
          checkMark.style.opacity = 0;
        }
      }

      // Mouse
      cardEl.addEventListener('mousedown', e => {
        dragging = true;
        startX = e.clientX;
        startY = e.clientY;
        cardEl.style.transition = 'none';
      });
      window.addEventListener('mousemove', e => {
        if (!dragging) return;
        onMove(e.clientX - startX, e.clientY - startY);
      });
      window.addEventListener('mouseup', e => {
        if (!dragging) return;
        onRelease();
        endSwipe();
      });

      // Touch
      cardEl.addEventListener('touchstart', e => {
        dragging = true;
        const t = e.touches[0];
        startX = t.clientX;
        startY = t.clientY;
        cardEl.style.transition = 'none';
      });
      window.addEventListener('touchmove', e => {
        if (!dragging) return;
        const t = e.touches[0];
        onMove(t.clientX - startX, t.clientY - startY);
      });
      window.addEventListener('touchend', e => {
        if (!dragging) return;
        onRelease();
        endSwipe();
      });
    }

    renderCards();
  </script>
</body>
</html>